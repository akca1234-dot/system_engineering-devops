#!/usr/bin/env bash
# Shows PID and name of bash processes without using ps

for pid in /proc/*; do
  [ -d "$pid" ] || continue
  p=$(basename "$pid")
  cmd=$(basename "$(readlink /proc/$p/exe 2>/dev/null)" || true)
  if [ "$cmd" = "bash" ]; then
    echo "$p bash"
  fi
done
